<!DOCTYPE html>
<html>
<head>
	<title>Canvas</title>
	<style type="text/css">
		.content{
			width: 80%;
			min-height: 600px;
			background-color: gray;
			margin: auto;
		}
		canvas{
			background-color: white;
			margin:auto;
		}
		.otherClass{
		}
	</style>
</head>
<body>  
	<div class='content otherClass' data-id='1'>
		<canvas id="canvas" width="500" height="250" ></canvas>
	</div>
	<script type="text/javascript">
		var canvas = null, ctx = null, x = 0, y = 0, btnX = 0, btnY = 0;

		window.requestAnimationFrame = (function(){
			return window.requestAnimationFrame || 
			window.mozRequestAnimationFrame || 
			window.webkitRequestAnimationFrame || 
			function (callback){
				window.setTimeout(callback,17);
			}
		}());

		function paint(ctx)
		{
			ctx.fillStyle = "black";
			ctx.fillRect(0,0,canvas.width,canvas.height)
			ctx.fillStyle = "#0f0";
			ctx.fillRect(x,y,10,10);
		}

		function act(){
			 x += btnX;
			 y += btnY;


				if(x > canvas.width){
					x = -10;
				}
				if(x < 0){
					x = canvas.width;
				}

				if(y > canvas.height){
					y = -10;
				}

				if(y < 0){
					y = canvas.height;
				}
		}

		function run(){
			window.requestAnimationFrame(run);
			act();
			paint(ctx);
		}

		function init(){
			canvas = document.getElementById('canvas');
			ctx = canvas.getContext('2d');
			run();	
		} 
		
		window.addEventListener('load',init,false);

		window.addEventListener('keydown',function(e){

			if(e.keyCode == 83){
				btnY += 5;
			}
			if(e.keyCode == 87){
				btnY -= 5;
			}

			if(e.keyCode == 68){
				btnX += 5;
			}

			if(e.keyCode == 65){
				btnX -= 5;
			}
		});

		/*document.addEventListener('keydown',function(e){
			btn = e.keyCode;
			console.log(btn)
		}); */	
		
	</script>
</body>
</html>
